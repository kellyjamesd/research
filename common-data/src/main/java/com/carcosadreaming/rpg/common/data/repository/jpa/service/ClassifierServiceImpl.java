package com.carcosadreaming.rpg.common.data.repository.jpa.service;

import com.carcosadreaming.rpg.common.data.model.Classifier;
import com.carcosadreaming.rpg.common.data.model.Descriptor;
import com.carcosadreaming.rpg.common.data.repository.jpa.ClassifierElementRepository;
import com.carcosadreaming.rpg.common.data.repository.jpa.ClassifierRepository;
import com.carcosadreaming.rpg.common.data.repository.jpa.DescriptorRepository;
import lombok.RequiredArgsConstructor;
import lombok.extern.slf4j.Slf4j;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import java.util.*;

@Service
@RequiredArgsConstructor(onConstructor = @__(@Autowired ))
@Slf4j
public class ClassifierServiceImpl
{
  private final ClassifierRepository classifierRepository;
  private final ClassifierElementRepository classifierElementRepository;
  private final DescriptorRepository descriptorRepository;

  private Map<String, Map<String, Object>> systemClassifierMap = new HashMap<>();


  public List<Classifier> retrieveClassifiers()
  {
    return new ArrayList<>(classifierRepository.findAll());
  }


  public Map<String, Object> retrieveClassifierGraph(String rulesSystem )
  {
    log.debug("retrieveClassifierGraph:  {}, {}", rulesSystem, systemClassifierMap.keySet());
    if (!systemClassifierMap.containsKey(rulesSystem))
    {
      log.debug("rulesSystem not found.");
      loadClassifierGraph(rulesSystem);
    }
    log.debug("retrieveClassifierGraph2:  {}, {}", rulesSystem, systemClassifierMap.keySet());
    return systemClassifierMap.get(rulesSystem);
  }

  private void loadClassifierGraph(String rulesSystem )
  {
      log.debug("loadClassifierGraph");
      Map<String, Object> classifiersMap = new LinkedHashMap<>();
      classifierRepository.findBySystemOrderByOrder(rulesSystem)
              .stream().forEach(classifier -> {
                  log.debug("classifier:  {}, {}", classifier.getName(), classifier.getOrder());
                  Map<String, Object> classifierMap = new LinkedHashMap<>();
                  Map<String, Object> elementsMap = new LinkedHashMap<>();
                  if (classifier.loadAll()) {
                      classifierElementRepository.findByClassifierIdOrderByOrder(classifier.getId())
                              .stream().forEach(classifierElement -> {
                                  log.debug("classifierElement:  {}, {}", classifierElement.getName(), classifierElement.getOrder());
                                  Map<String, Object> elementMap = new LinkedHashMap<>();
                                  Map<String, Descriptor> descriptorMap = new LinkedHashMap<>();
                                  descriptorRepository.findByClassifierElementId(classifierElement.getId())
                                          .stream().forEach(descriptor -> descriptorMap.put(descriptor.getName(), descriptor));
                                  elementMap.put("classifier element", classifierElement);
                                  elementMap.put("descriptors", descriptorMap);
                                  elementsMap.put(classifierElement.getName(), elementMap);
                              });
                  }
                  classifierMap.put("classifier", classifier);
                  classifierMap.put("classifier elements", elementsMap);
                  classifiersMap.put(classifier.getName(), classifierMap);
              });
      log.debug("loaded classifiers:  {}, {}", rulesSystem, classifiersMap.toString());
      systemClassifierMap.put(rulesSystem, classifiersMap);
  }
}


// Rules Systems
//      rule system : classifiers map
//          classifier name : classifier map
//              classifier : classifier
//              classifier elements : classifier elements map
//                  classifier element name : classifier element map
//                      classifier element : classifier element
//                      descriptors : descriptor map
//                          descriptor name : descriptor


//rules:  PF1, classifiers:  {
//    Ability={
//            Strength={
//                    Permanent Ability Score=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(
//                            id=10f1033a-f70d-4896-8f54-cdaee7990ca1,
//                            system=PF1),
//                            name=Permanent Ability Score,
//                            shortName=Score,
//                            description=The ability score with all permanent modifications),
//                            classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(
//                                    id=20984474-4d1a-4421-b5c8-ff8e6410df73,
//                                    system=PF1),
//                                    name=Strength,
//                                    shortName=STR,
//                                    description=Strength measures muscle and physical power.),
//                                    order=1,
//                                    classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(
//                                            id=80b15f74-a534-4ac6-955a-5f5bfef88b45,
//                                            system=PF1),
//                                            name=Ability,
//                                            shortName=Ability,
//                                            description=Each entity has a number of scores that represent his entity's most basic attributes.  They represent raw talent and prowess),
//                                            pluralName=Abilities,
//                                            order=1,
//                                            loadAllElements=true))),
//                    Permanent Ability Modifier=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(
//                            id=6789d36e-a7ac-435e-aae1-b3ab00d46ed0,
//                            system=PF1),
//                            name=Permanent Ability Modifier,
//                            shortName=Modifier,
//                            description=The modifier for the permanent ability score),
//                            classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=20984474-4d1a-4421-b5c8-ff8e6410df73, system=PF1), name=Strength, shortName=STR, description=Strength measures muscle and physical power.), order=1, classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=80b15f74-a534-4ac6-955a-5f5bfef88b45, system=PF1), name=Ability, shortName=Ability, description=Each entity has a number of scores that represent his entity's most basic attributes.  They represent raw talent and prowess), pluralName=Abilities, order=1, loadAllElements=true))),
//                    Temporary Adjustments=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=3d8199a5-3401-4c54-acbd-5d96d05d4701, system=PF1), name=Temporary Adjustments, shortName=Temp Adjustments, description=All temporary adjustments to the permanent ability score), classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=20984474-4d1a-4421-b5c8-ff8e6410df73, system=PF1), name=Strength, shortName=STR, description=Strength measures muscle and physical power.), order=1, classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=80b15f74-a534-4ac6-955a-5f5bfef88b45, system=PF1), name=Ability, shortName=Ability, description=Each entity has a number of scores that represent his entity's most basic attributes.  They represent raw talent and prowess), pluralName=Abilities, order=1, loadAllElements=true))), Temporary Modifier=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=90489c54-fd4b-4e1f-8e2d-47371d073da3, system=PF1), name=Temporary Modifier, shortName=Temp Modifier, description=The modifier for the temporary ability score), classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=20984474-4d1a-4421-b5c8-ff8e6410df73, system=PF1), name=Strength, shortName=STR, description=Strength measures muscle and physical power.), order=1, classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=80b15f74-a534-4ac6-955a-5f5bfef88b45, system=PF1), name=Ability, shortName=Ability, description=Each entity has a number of scores that represent his entity's most basic attributes.  They represent raw talent and prowess), pluralName=Abilities, order=1, loadAllElements=true)))}, Dexterity={Permanent Ability Score=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=44ffc477-993c-498f-bafa-3af3e8eb3ae5, system=PF1), name=Permanent Ability Score, shortName=Score, description=The ability score with all permanent modifications), classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=d2046d70-74dd-4477-a551-deca1c9fb324, system=PF1), name=Dexterity, shortName=DEX, description=Dexterity measures agility, reflexes, and balance.), order=1, classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=80b15f74-a534-4ac6-955a-5f5bfef88b45, system=PF1), name=Ability, shortName=Ability, description=Each entity has a number of scores that represent his entity's most basic attributes.  They represent raw talent and prowess), pluralName=Abilities, order=1, loadAllElements=true))), Permanent Ability Modifier=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=1230229a-d308-4464-94f2-e851e43496d0, system=PF1), name=Permanent Ability Modifier, shortName=Modifier, description=The modifier for the permanent ability score), classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=d2046d70-74dd-4477-a551-deca1c9fb324, system=PF1), name=Dexterity, shortName=DEX, description=Dexterity measures agility, reflexes, and balance.), order=1, classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=80b15f74-a534-4ac6-955a-5f5bfef88b45, system=PF1), name=Ability, shortName=Ability, description=Each entity has a number of scores that represent his entity's most basic attributes.  They represent raw talent and prowess), pluralName=Abilities, order=1, loadAllElements=true))), Temporary Adjustments=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=cb5b04d1-0f74-414a-b860-ca3b6a6f3dbb, system=PF1), name=Temporary Adjustments, shortName=Temp Adjustments, description=All temporary adjustments to the permanent ability score), classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=d2046d70-74dd-4477-a551-deca1c9fb324, system=PF1), name=Dexterity, shortName=DEX, description=Dexterity measures agility, reflexes, and balance.), order=1, classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=80b15f74-a534-4ac6-955a-5f5bfef88b45, system=PF1), name=Ability, shortName=Ability, description=Each entity has a number of scores that represent his entity's most basic attributes.  They represent raw talent and prowess), pluralName=Abilities, order=1, loadAllElements=true))), Temporary Modifier=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=a544a529-2066-45b5-8617-af623addeca2, system=PF1), name=Temporary Modifier, shortName=Temp Modifier, description=The modifier for the temporary ability score), classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=d2046d70-74dd-4477-a551-deca1c9fb324, system=PF1), name=Dexterity, shortName=DEX, description=Dexterity measures agility, reflexes, and balance.), order=1, classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=80b15f74-a534-4ac6-955a-5f5bfef88b45, system=PF1), name=Ability, shortName=Ability, description=Each entity has a number of scores that represent his entity's most basic attributes.  They represent raw talent and prowess), pluralName=Abilities, order=1, loadAllElements=true)))}, Constitution={Permanent Ability Score=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=c4a07d4b-a295-4d19-96e2-2de8da3fd880, system=PF1), name=Permanent Ability Score, shortName=Score, description=The ability score with all permanent modifications), classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=4808fbab-f695-4ca6-8c3b-54eaba5969fb, system=PF1), name=Constitution, shortName=CON, description=Constitution represents a character's health and stamina.), order=1, classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=80b15f74-a534-4ac6-955a-5f5bfef88b45, system=PF1), name=Ability, shortName=Ability, description=Each entity has a number of scores that represent his entity's most basic attributes.  They represent raw talent and prowess), pluralName=Abilities, order=1, loadAllElements=true))), Permanent Ability Modifier=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=cf2eb306-4e03-450c-8837-d63d93f81209, system=PF1), name=Permanent Ability Modifier, shortName=Modifier, description=The modifier for the permanent ability score), classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=4808fbab-f695-4ca6-8c3b-54eaba5969fb, system=PF1), name=Constitution, shortName=CON, description=Constitution represents a character's health and stamina.), order=1, classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=80b15f74-a534-4ac6-955a-5f5bfef88b45, system=PF1), name=Ability, shortName=Ability, description=Each entity has a number of scores that represent his entity's most basic attributes.  They represent raw talent and prowess), pluralName=Abilities, order=1, loadAllElements=true))), Temporary Adjustments=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=9add2c1b-4bf4-4fab-a478-fe4e389c8728, system=PF1), name=Temporary Adjustments, shortName=Temp Adjustments, description=All temporary adjustments to the permanent ability score), classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=4808fbab-f695-4ca6-8c3b-54eaba5969fb, system=PF1), name=Constitution, shortName=CON, description=Constitution represents a character's health and stamina.), order=1, classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=80b15f74-a534-4ac6-955a-5f5bfef88b45, system=PF1), name=Ability, shortName=Ability, description=Each entity has a number of scores that represent his entity's most basic attributes.  They represent raw talent and prowess), pluralName=Abilities, order=1, loadAllElements=true))), Temporary Modifier=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=c8d8cf03-b6f9-4705-b827-457520d05b8a, system=PF1), name=Temporary Modifier, shortName=Temp Modifier, description=The modifier for the temporary ability score), classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=4808fbab-f695-4ca6-8c3b-54eaba5969fb, system=PF1), name=Constitution, shortName=CON, description=Constitution represents a character's health and stamina.), order=1, classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=80b15f74-a534-4ac6-955a-5f5bfef88b45, system=PF1), name=Ability, shortName=Ability, description=Each entity has a number of scores that represent his entity's most basic attributes.  They represent raw talent and prowess), pluralName=Abilities, order=1, loadAllElements=true)))}, Intelligence={Permanent Ability Score=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=bc793e17-f7a9-4a4e-87e1-aee56f21b322, system=PF1), name=Permanent Ability Score, shortName=Score, description=The ability score with all permanent modifications), classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=312b1470-942f-425f-af77-2b6e6b2917bc, system=PF1), name=Intelligence, shortName=INT, description=Intelligence determines a character's ability to learn and reason.), order=1, classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=80b15f74-a534-4ac6-955a-5f5bfef88b45, system=PF1), name=Ability, shortName=Ability, description=Each entity has a number of scores that represent his entity's most basic attributes.  They represent raw talent and prowess), pluralName=Abilities, order=1, loadAllElements=true))), Permanent Ability Modifier=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=ceb94017-1f92-4c36-b19e-080db22989e6, system=PF1), name=Permanent Ability Modifier, shortName=Modifier, description=The modifier for the permanent ability score), classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=312b1470-942f-425f-af77-2b6e6b2917bc, system=PF1), name=Intelligence, shortName=INT, description=Intelligence determines a character's ability to learn and reason.), order=1, classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=80b15f74-a534-4ac6-955a-5f5bfef88b45, system=PF1), name=Ability, shortName=Ability, description=Each entity has a number of scores that represent his entity's most basic attributes.  They represent raw talent and prowess), pluralName=Abilities, order=1, loadAllElements=true))), Temporary Adjustments=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=b31805e3-d406-48d1-9171-c9e9663dea97, system=PF1), name=Temporary Adjustments, shortName=Temp Adjustments, description=All temporary adjustments to the permanent ability score), classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=312b1470-942f-425f-af77-2b6e6b2917bc, system=PF1), name=Intelligence, shortName=INT, description=Intelligence determines a character's ability to learn and reason.), order=1, classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=80b15f74-a534-4ac6-955a-5f5bfef88b45, system=PF1), name=Ability, shortName=Ability, description=Each entity has a number of scores that represent his entity's most basic attributes.  They represent raw talent and prowess), pluralName=Abilities, order=1, loadAllElements=true))), Temporary Modifier=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=3cdced17-23a8-466c-914f-bdea21de1c92, system=PF1), name=Temporary Modifier, shortName=Temp Modifier, description=The modifier for the temporary ability score), classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=312b1470-942f-425f-af77-2b6e6b2917bc, system=PF1), name=Intelligence, shortName=INT, description=Intelligence determines a character's ability to learn and reason.), order=1, classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=80b15f74-a534-4ac6-955a-5f5bfef88b45, system=PF1), name=Ability, shortName=Ability, description=Each entity has a number of scores that represent his entity's most basic attributes.  They represent raw talent and prowess), pluralName=Abilities, order=1, loadAllElements=true)))}, Wisdom={Permanent Ability Score=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=22e2cf50-1951-4365-8387-80e522e1190c, system=PF1), name=Permanent Ability Score, shortName=Score, description=The ability score with all permanent modifications), classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=1a41c965-59db-46c4-a320-c713936c426f, system=PF1), name=Wisdom, shortName=WIS, description=Wisdom describes a character's willpower, common sense, awareness, and intuition.), order=1, classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=80b15f74-a534-4ac6-955a-5f5bfef88b45, system=PF1), name=Ability, shortName=Ability, description=Each entity has a number of scores that represent his entity's most basic attributes.  They represent raw talent and prowess), pluralName=Abilities, order=1, loadAllElements=true))), Permanent Ability Modifier=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=a91fba9b-605b-4474-afb0-b0dd02501b3e, system=PF1), name=Permanent Ability Modifier, shortName=Modifier, description=The modifier for the permanent ability score), classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=1a41c965-59db-46c4-a320-c713936c426f, system=PF1), name=Wisdom, shortName=WIS, description=Wisdom describes a character's willpower, common sense, awareness, and intuition.), order=1, classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=80b15f74-a534-4ac6-955a-5f5bfef88b45, system=PF1), name=Ability, shortName=Ability, description=Each entity has a number of scores that represent his entity's most basic attributes.  They represent raw talent and prowess), pluralName=Abilities, order=1, loadAllElements=true))), Temporary Adjustments=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=e57809ad-25d3-4330-8372-b58e331a0c4e, system=PF1), name=Temporary Adjustments, shortName=Temp Adjustments, description=All temporary adjustments to the permanent ability score), classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=1a41c965-59db-46c4-a320-c713936c426f, system=PF1), name=Wisdom, shortName=WIS, description=Wisdom describes a character's willpower, common sense, awareness, and intuition.), order=1, classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=80b15f74-a534-4ac6-955a-5f5bfef88b45, system=PF1), name=Ability, shortName=Ability, description=Each entity has a number of scores that represent his entity's most basic attributes.  They represent raw talent and prowess), pluralName=Abilities, order=1, loadAllElements=true))), Temporary Modifier=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=42f76ca4-2ee5-4852-915e-57b012cf0394, system=PF1), name=Temporary Modifier, shortName=Temp Modifier, description=The modifier for the temporary ability score), classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=1a41c965-59db-46c4-a320-c713936c426f, system=PF1), name=Wisdom, shortName=WIS, description=Wisdom describes a character's willpower, common sense, awareness, and intuition.), order=1, classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=80b15f74-a534-4ac6-955a-5f5bfef88b45, system=PF1), name=Ability, shortName=Ability, description=Each entity has a number of scores that represent his entity's most basic attributes.  They represent raw talent and prowess), pluralName=Abilities, order=1, loadAllElements=true)))}, Charisma={Permanent Ability Score=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=839dcfc0-118f-49f0-b5a2-2576ea215b5d, system=PF1), name=Permanent Ability Score, shortName=Score, description=The ability score with all permanent modifications), classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=0567d2f1-b424-401e-bb51-6375f638fc2d, system=PF1), name=Charisma, shortName=CHA, description=Charisma measures a character's personality, personal magnetism, ability to lead, and appearance.), order=1, classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=80b15f74-a534-4ac6-955a-5f5bfef88b45, system=PF1), name=Ability, shortName=Ability, description=Each entity has a number of scores that represent his entity's most basic attributes.  They represent raw talent and prowess), pluralName=Abilities, order=1, loadAllElements=true))), Permanent Ability Modifier=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=090afc9d-ff84-4192-b390-123e13ca3d9d, system=PF1), name=Permanent Ability Modifier, shortName=Modifier, description=The modifier for the permanent ability score), classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=0567d2f1-b424-401e-bb51-6375f638fc2d, system=PF1), name=Charisma, shortName=CHA, description=Charisma measures a character's personality, personal magnetism, ability to lead, and appearance.), order=1, classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=80b15f74-a534-4ac6-955a-5f5bfef88b45, system=PF1), name=Ability, shortName=Ability, description=Each entity has a number of scores that represent his entity's most basic attributes.  They represent raw talent and prowess), pluralName=Abilities, order=1, loadAllElements=true))), Temporary Adjustments=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=ba0eb516-b238-44ea-882d-0e49fe0960de, system=PF1), name=Temporary Adjustments, shortName=Temp Adjustments, description=All temporary adjustments to the permanent ability score), classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=0567d2f1-b424-401e-bb51-6375f638fc2d, system=PF1), name=Charisma, shortName=CHA, description=Charisma measures a character's personality, personal magnetism, ability to lead, and appearance.), order=1, classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=80b15f74-a534-4ac6-955a-5f5bfef88b45, system=PF1), name=Ability, shortName=Ability, description=Each entity has a number of scores that represent his entity's most basic attributes.  They represent raw talent and prowess), pluralName=Abilities, order=1, loadAllElements=true))), Temporary Modifier=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=bdd3588d-4d48-45cc-a67e-0935e52d16b3, system=PF1), name=Temporary Modifier, shortName=Temp Modifier, description=The modifier for the temporary ability score), classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=0567d2f1-b424-401e-bb51-6375f638fc2d, system=PF1), name=Charisma, shortName=CHA, description=Charisma measures a character's personality, personal magnetism, ability to lead, and appearance.), order=1, classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=80b15f74-a534-4ac6-955a-5f5bfef88b45, system=PF1), name=Ability, shortName=Ability, description=Each entity has a number of scores that represent his entity's most basic attributes.  They represent raw talent and prowess), pluralName=Abilities, order=1, loadAllElements=true)))}}, Race={}, Skill={}, Feat={}, Equipment={}, Entity={Identification={Name=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=e90afb13-a306-43a7-bde0-cbac36145a93, system=PF1), name=Name, shortName=Name, description=The true name of the entity), classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=3fb3244d-7592-4e7d-aec7-ec1b8707dd46, system=PF1), name=Identification, shortName=ID, description=How is the entity known.), order=1, classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=ff3dc58b-ec63-4435-beb6-ed4c1b89a5e0, system=PF1), name=Entity, shortName=Entity, description=Information about a specific entity), pluralName=Entity Data, order=6, loadAllElements=true))), Aliases=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=31a1d148-4e5c-4a18-8f09-d5aa12287663, system=PF1), name=Aliases, shortName=Aliases, description=Any aliases the entity is known by), classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=3fb3244d-7592-4e7d-aec7-ec1b8707dd46, system=PF1), name=Identification, shortName=ID, description=How is the entity known.), order=1, classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=ff3dc58b-ec63-4435-beb6-ed4c1b89a5e0, system=PF1), name=Entity, shortName=Entity, description=Information about a specific entity), pluralName=Entity Data, order=6, loadAllElements=true))), Current Alias=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=68fc0e08-f7c0-40f8-871e-b80bbb161504, system=PF1), name=Current Alias, shortName=Alias, description=The alias if any the entity is currently going by), classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=3fb3244d-7592-4e7d-aec7-ec1b8707dd46, system=PF1), name=Identification, shortName=ID, description=How is the entity known.), order=1, classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=ff3dc58b-ec63-4435-beb6-ed4c1b89a5e0, system=PF1), name=Entity, shortName=Entity, description=Information about a specific entity), pluralName=Entity Data, order=6, loadAllElements=true))), Current Description=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=e3d0cdb0-c891-4f08-a17d-cd2fb65794c1, system=PF1), name=Current Description, shortName=Description, description=The outward description of the character (.e.g. what its wearing), classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=3fb3244d-7592-4e7d-aec7-ec1b8707dd46, system=PF1), name=Identification, shortName=ID, description=How is the entity known.), order=1, classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=ff3dc58b-ec63-4435-beb6-ed4c1b89a5e0, system=PF1), name=Entity, shortName=Entity, description=Information about a specific entity), pluralName=Entity Data, order=6, loadAllElements=true))), Noticeable Marks=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=8c078e05-4f4f-4717-bad4-8cea69e4ef9f, system=PF1), name=Noticeable Marks, shortName=Marks, description=Scars, tattoos, etc. that are clearly visible), classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=3fb3244d-7592-4e7d-aec7-ec1b8707dd46, system=PF1), name=Identification, shortName=ID, description=How is the entity known.), order=1, classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=ff3dc58b-ec63-4435-beb6-ed4c1b89a5e0, system=PF1), name=Entity, shortName=Entity, description=Information about a specific entity), pluralName=Entity Data, order=6, loadAllElements=true))), Hidden/Covered Marks=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=8ab260d2-4a2d-43f0-9f60-949ba6ae88ad, system=PF1), name=Hidden/Covered Marks, shortName=Hidden Marks, description=Scars, tattoos, etc. that are hidden by magic, clothes, etc.), classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=3fb3244d-7592-4e7d-aec7-ec1b8707dd46, system=PF1), name=Identification, shortName=ID, description=How is the entity known.), order=1, classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=ff3dc58b-ec63-4435-beb6-ed4c1b89a5e0, system=PF1), name=Entity, shortName=Entity, description=Information about a specific entity), pluralName=Entity Data, order=6, loadAllElements=true)))}, Physical Appearance={Size=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=1a6c9aae-f1c1-4bc2-be41-db89629ab870, system=PF1), name=Size, shortName=Size, description=Overall how big the entity is.), classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=488323bb-8851-4fe6-a902-b102aa5a9612, system=PF1), name=Physical Appearance, shortName=Appearance, description=Physical appearance.), order=1, classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=ff3dc58b-ec63-4435-beb6-ed4c1b89a5e0, system=PF1), name=Entity, shortName=Entity, description=Information about a specific entity), pluralName=Entity Data, order=6, loadAllElements=true))), Gender=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=ab1e0dd7-8dc0-4c7a-8155-4f5c6525e9ea, system=PF1), name=Gender, shortName=Gender, description=The gender of the entity), classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=488323bb-8851-4fe6-a902-b102aa5a9612, system=PF1), name=Physical Appearance, shortName=Appearance, description=Physical appearance.), order=1, classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=ff3dc58b-ec63-4435-beb6-ed4c1b89a5e0, system=PF1), name=Entity, shortName=Entity, description=Information about a specific entity), pluralName=Entity Data, order=6, loadAllElements=true))), Height=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=55eddaca-835b-4bcc-97d4-5aec96f63d02, system=PF1), name=Height, shortName=Ht., description=How tall is it), classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=488323bb-8851-4fe6-a902-b102aa5a9612, system=PF1), name=Physical Appearance, shortName=Appearance, description=Physical appearance.), order=1, classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=ff3dc58b-ec63-4435-beb6-ed4c1b89a5e0, system=PF1), name=Entity, shortName=Entity, description=Information about a specific entity), pluralName=Entity Data, order=6, loadAllElements=true))), Weight=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=baa135eb-aca5-44fd-b3e1-22f6f8f088ac, system=PF1), name=Weight, shortName=Wt., description=How much does it weigh), classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=488323bb-8851-4fe6-a902-b102aa5a9612, system=PF1), name=Physical Appearance, shortName=Appearance, description=Physical appearance.), order=1, classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=ff3dc58b-ec63-4435-beb6-ed4c1b89a5e0, system=PF1), name=Entity, shortName=Entity, description=Information about a specific entity), pluralName=Entity Data, order=6, loadAllElements=true))), Build=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=65529e33-17ff-4d37-b61c-fd0c3f71cba2, system=PF1), name=Build, shortName=Build, description=More detail with a specific size), classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=488323bb-8851-4fe6-a902-b102aa5a9612, system=PF1), name=Physical Appearance, shortName=Appearance, description=Physical appearance.), order=1, classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=ff3dc58b-ec63-4435-beb6-ed4c1b89a5e0, system=PF1), name=Entity, shortName=Entity, description=Information about a specific entity), pluralName=Entity Data, order=6, loadAllElements=true))), Age=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=48a19d7d-65f2-434c-bf38-3d2c120e16eb, system=PF1), name=Age, shortName=Age, description=How old), classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=488323bb-8851-4fe6-a902-b102aa5a9612, system=PF1), name=Physical Appearance, shortName=Appearance, description=Physical appearance.), order=1, classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=ff3dc58b-ec63-4435-beb6-ed4c1b89a5e0, system=PF1), name=Entity, shortName=Entity, description=Information about a specific entity), pluralName=Entity Data, order=6, loadAllElements=true))), Hair Color=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=5d2055ec-6813-452d-83aa-115e5cd0f05a, system=PF1), name=Hair Color, shortName=Hair, description=The color of hair if any), classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=488323bb-8851-4fe6-a902-b102aa5a9612, system=PF1), name=Physical Appearance, shortName=Appearance, description=Physical appearance.), order=1, classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=ff3dc58b-ec63-4435-beb6-ed4c1b89a5e0, system=PF1), name=Entity, shortName=Entity, description=Information about a specific entity), pluralName=Entity Data, order=6, loadAllElements=true))), Eye Color=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=f29320f6-03e0-4dd1-8676-34f17ea325f2, system=PF1), name=Eye Color, shortName=Eyes, description=The color of the eyes if any), classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=488323bb-8851-4fe6-a902-b102aa5a9612, system=PF1), name=Physical Appearance, shortName=Appearance, description=Physical appearance.), order=1, classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=ff3dc58b-ec63-4435-beb6-ed4c1b89a5e0, system=PF1), name=Entity, shortName=Entity, description=Information about a specific entity), pluralName=Entity Data, order=6, loadAllElements=true)))}, Social Aspects={Order (Law/Chaos)=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=f9ed0dd0-5ddf-4a9b-a49b-9d0c78ed3711, system=PF1), name=Order (Law/Chaos), shortName=Order, description=The respect for truth, honor, authority, etc. Law, Neutral, Chaos), classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=1306c285-5d4f-4398-8c7c-f00eb903cc5d, system=PF1), name=Social Aspects, shortName=Social, description=How does the entity generally view the world.), order=1, classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=ff3dc58b-ec63-4435-beb6-ed4c1b89a5e0, system=PF1), name=Entity, shortName=Entity, description=Information about a specific entity), pluralName=Entity Data, order=6, loadAllElements=true))), Order Level=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=c1ad5435-c722-4cba-b606-965fca509f39, system=PF1), name=Order Level, shortName=Order Level, description=A scale of how important the choice of order is.), classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=1306c285-5d4f-4398-8c7c-f00eb903cc5d, system=PF1), name=Social Aspects, shortName=Social, description=How does the entity generally view the world.), order=1, classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=ff3dc58b-ec63-4435-beb6-ed4c1b89a5e0, system=PF1), name=Entity, shortName=Entity, description=Information about a specific entity), pluralName=Entity Data, order=6, loadAllElements=true))), Morality (Good/Evil)=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=a68e7a5a-4e85-4d11-9a4a-1d6ec886f7c7, system=PF1), name=Morality (Good/Evil), shortName=Morality, description=Where on the moral compass.  Good, Neutral, Evil), classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=1306c285-5d4f-4398-8c7c-f00eb903cc5d, system=PF1), name=Social Aspects, shortName=Social, description=How does the entity generally view the world.), order=1, classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=ff3dc58b-ec63-4435-beb6-ed4c1b89a5e0, system=PF1), name=Entity, shortName=Entity, description=Information about a specific entity), pluralName=Entity Data, order=6, loadAllElements=true))), Morality Level=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=afb0ef97-f3e2-4ac1-b8bc-7a4bcdfd669b, system=PF1), name=Morality Level, shortName=Morality Level, description=A scale of how import the choice in morality is.), classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=1306c285-5d4f-4398-8c7c-f00eb903cc5d, system=PF1), name=Social Aspects, shortName=Social, description=How does the entity generally view the world.), order=1, classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=ff3dc58b-ec63-4435-beb6-ed4c1b89a5e0, system=PF1), name=Entity, shortName=Entity, description=Information about a specific entity), pluralName=Entity Data, order=6, loadAllElements=true)))}, Cultural Background={Home Region (map)=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=4faf01b8-99ae-446d-964d-b5fd71013c23, system=PF1), name=Home Region (map), shortName=Region, description=Where born/raised/created.  What map), classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=69930fe2-6941-4c3f-a41e-cd7be8b8b495, system=PF1), name=Cultural Background, shortName=Heritage, description=The entity's location and cultural background.), order=1, classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=ff3dc58b-ec63-4435-beb6-ed4c1b89a5e0, system=PF1), name=Entity, shortName=Entity, description=Information about a specific entity), pluralName=Entity Data, order=6, loadAllElements=true))), Homeland (city, village, forest, hex, etc.)=DescriptorJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=948d2857-2262-452f-95d0-115ef96fb8c8, system=PF1), name=Homeland (city, village, forest, hex, etc.), shortName=Homeland, description=Specific locational detail. Hex or name.), classifierElement=ClassifierElementJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=69930fe2-6941-4c3f-a41e-cd7be8b8b495, system=PF1), name=Cultural Background, shortName=Heritage, description=The entity's location and cultural background.), order=1, classifier=ClassifierJpaImpl(super=AbstractMorpheme(super=AbstractEntity(id=ff3dc58b-ec63-4435-beb6-ed4c1b89a5e0, system=PF1), name=Entity, shortName=Entity, description=Information about a specific entity), pluralName=Entity Data, order=6, loadAllElements=true)))}}}
